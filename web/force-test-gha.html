<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Salesforce Example</title>

	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
</head>
<body style="background-color: #fff; color: #666666;">
<h3>Results:</h3>

<div id="force-data"></div>
<script>
var _postExample = function(data) {
	jQuery.ajax({
		type:    'POST',
		url:     'https://next.cloud.dreamfactory.com/rest/portal/salesforce/services/data/v29.0/sobjects/Account?dfpapikey=b5e9610f7d7170e5c6bb6d7c56014e5e&interactive=0',
		data:    data,
		cache:   false,
		success: function(response) {
			$('#force-data').html(JSON.stringify(response));
		},
		error:   function(xhr, status, thrown) {
			var $_div = $('#force-data'), _text = 'Empty response received. No clue.';

			if (xhr.responseText) {
				var _data = JSON.parse(xhr.responseText);

				if (_data) {
					try {
						var _error = _data.error[0];
						if (307 == _error.code && _error.location) {
							_text =
								'<a href="' + _error.location + '">Please click here to authorize</a>';
						}
					}
					catch (_ex) {
						_text = 'Exception making request: ' + _ex.message
					}
				}
				else {
					_text = 'Unparsable response.';
				}
			}

			$_div.html(_text + '<br /><br /><pre class="prettyprint linenums">' + ( _data ? JSON.stringify(_data, null, 2) : xhr.responseText ) +
				'</pre>');
		}
	});
};

jQuery(function($) {

	_postExample({Name: 'TestPostWithPortal'});

});
</script>
</body>
</html>
